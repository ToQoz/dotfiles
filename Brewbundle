casks=$(brew cask list)
cask() {
    case "$1" in
    install)
        if [ $(echo "$casks" | grep "^$1$" | wc -l) -gt 0 ]; then
            echo "[skip] brew cask $@" >> /dev/stderr
            return 0 # this is not error
        fi
        ;;
    esac
    brew cask $@
}

list=$(brew list)
install () {
    if [ $(echo "$list" | grep "^$1$" | wc -l) -gt 0 ]; then
        echo "[skip] brew install $@" >> /dev/stderr
        return 0 # this is not error
    fi

    brew install $@
}

taps=$(brew tap)
tap() {
    if [ $(echo "$taps" | grep "^$1$" | wc -l) -gt 0 ]; then
        echo "[skip] brew tap $@" >> /dev/stderr
        return 0 # this is not error
    fi

    brew tap $@
}

update() {
    brew update
}

tap caskroom/cask
tap homebrew/dupes
tap homebrew/versions
tap railwaycat/emacsmacport
tap aereal/aereal
tap aereal/aereal_casks
tap motemen/ghq
tap sanemat/font
tap toqoz/toqoz

update

install pkg-config
install pcre
install openssl
install readline

# VCS {{{
install git
install git-lfs
install tig
install git-secrets
install mercurial
# }}}

# Zsh {{{
install zsh
install zsh-completions
# }}}

# Editor {{{
install vim --with-luajit
install macvim --with-luajit
if [ -n "$I_HAVE_TIME" ]; then
  install railwaycat/emacsmacport/emacs-mac
fi
# }}}

# Shims {{{
install homebrew/dupes/openssh
install md5sha1sum
install htop-osx
install pstree
install pidof
install wget
install make
install tree
install nkf
install expect
install homebrew/dupes/rsync
# }}}

# Benri {{{
install tmux
install ghq
install peco
install the_silver_searcher
install jq
install xmlto
install lastpass-cli --with-pinentry --with-doc
# }}}

# Chat {{{
install irssi
# }}}

# GUI/TUI {{{
install qt
if [ -n "$I_HAVE_TIME" ]; then
  install qcachegrind
  install gtk+
fi
install homebrew/dupes/ncurses
# }}}

# Ruby deps {{{
# (openssl and readline will be installed before reaching here)
install libyaml
install yajl
# }}}

# {{{ Nokogiri deps
install libxml2
install libxslt
install libiconv
# }}}

# Lauguage {{{
install go --with-cc-all
install ruby-build
install rbenv
install python
install python3
install node
cask install java
install scala

if [ -n "$I_HAVE_TIME" ]; then
  install dmd
  install gauche
  install clozure-cl
  install leiningen
  install haskell-stack
fi
# }}}

# Database {{{
install redis
brew services start redis
install homebrew/versions/mysql56
brew services start homebrew/versions/mysql56
# }}}

# GNU tools {{{
install coreutils
install gnu-sed
install gnu-tar
install gnu-getopt
install gawk
install findutils
install binutils
# }}}

# Font {{{
install ricty
# }}}

# IME {{{
install toqoz/toqoz/uim
install toqoz/toqoz/uim-tmux
# }}}

# Documentation {{{
install asciidoc
install graphviz
# }}}

# Profiler/Benchmarker/Debugger {{{
install valgrind
# HTTP benchmarker
install wrk
# curses debugger
install cgdb
# }}}

# Network {{{
install dnsmasq
install ngrep
install nmap
# FIXME: sha256 missmatch
# install homebrew/binary/ngrok2
install mitmproxy
# install wireshark --with-qt is too slow
cask install wireshark
# }}}

# Media {{{
install imagemagick
install ffmpeg
# }}}

# iOS devtools {{{
install homebrew/boneyard/class-dump
install ios-webkit-debug-proxy
install xctool
install uncrustify
# }}}

# Ruby devtools {{{
# install refe
install rsense
# }}}

# Shell devtools {{{
install checkbashisms
# }}}

# Headless browsers {{{
install selenium-server-standalone
# }}}

# AWS {{{
install aws-elasticbeanstalk
install awscli
install dynamodb-local
# }}}

# Docker {{{
cask install docker
# }}}

# CLI for GUI app {{{
install chrome-cli
# Unarchiver
install unar
# }}}

# i18n {{{
install gettext
install intltool
# }}}

# for OSX specific situation {{{
cask install xquartz
cask install coconutbattery
cask install appcleaner
# }}}

# Sync {{{
cask install dropbox
# }}}

# IME {{{
cask install aquaskk
# }}}

# Browser {{{
cask install google-chrome
cask install firefox
# }}}

# Virtualisation {{{
cask install virtualbox
cask install vagrant
# }}}

# Key remap {{{
cask install karabiner
cask install seil
# }}}

# IDE/GUI manager {{{
cask install sourcetree
cask install mysqlworkbench
cask install sequel-pro
cask install unity
cask install mono-mdk
cask install xamarin-studio
cask install android-studio
cask install visual-studio-code
cask install jd-gui
install r
cask install rstudio
# }}}

# Visual design {{{
cask install couleurs
cask install sketch
cask install sketch-tool
cask install texturepacker
# X11 free version GMIP
cask install lisanet-gimp
cask install inkscape
cask install firealpaca
cask install blender
cask install tiled
cask install gyazo
# }}}

# Fun {{{
cask install soundcleod
cask install radiant-player
cask install vlc
cask install cooviewer
cask install steam
# }}}

# WM {{{
cask install slate
# }}}

# Life {{{
cask install focus
# }}}

# Chat {{{
cask install slack
install slackcat
# }}}

# Mac App Store {{{
install argon/mas/mas
mas install 1063031541 # TweetMan
mas install 539883307 # LINE
# mas install Chemrtron
# }}}

# OMG {{{
cask install libreoffice
# }}}

cask install yubikey-personalization-gui
cask install yubikey-neo-manager
cask install yubico-authenticator

# vim:set ft=sh et foldmethod=marker:
